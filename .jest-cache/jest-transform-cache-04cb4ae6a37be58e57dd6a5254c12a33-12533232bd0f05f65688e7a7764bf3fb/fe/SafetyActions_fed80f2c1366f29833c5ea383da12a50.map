{"version":3,"names":["SafetyActions","userId","userName","onBlock","onReport","cov_124md8rj01","f","showBlockModal","setShowBlockModal","s","_react","useState","showReportModal","setShowReportModal","reportReason","setReportReason","reportDetails","setReportDetails","reportReasons","handleBlock","_safety","blockUser","b","handleReport","alert","reportUser","reason","details","timestamp","Date","toISOString","_jsxruntime","jsxs","Fragment","className","onClick","jsx","_outline","UserMinusIcon","FlagIcon","_Modal","default","isOpen","onClose","title","ShieldExclamationIcon","_Button","variant","map","type","name","value","checked","onChange","e","target","rows","placeholder","disabled"],"sources":["D:\\Tech Vitta\\Apps\\DEMO\\components\\ui\\SafetyActions.js"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { ShieldExclamationIcon, UserMinusIcon, FlagIcon } from '@heroicons/react/24/outline';\r\nimport Modal from './Modal';\r\nimport Button from './Button';\r\nimport { blockUser, reportUser, getBlockedUsers } from '@/lib/safety';\r\n\r\n/**\r\n * SafetyActions Component\r\n * Provides block and report functionality\r\n */\r\nexport default function SafetyActions({ \r\n  userId, \r\n  userName,\r\n  onBlock,\r\n  onReport \r\n}) {\r\n  const [showBlockModal, setShowBlockModal] = useState(false);\r\n  const [showReportModal, setShowReportModal] = useState(false);\r\n  const [reportReason, setReportReason] = useState('');\r\n  const [reportDetails, setReportDetails] = useState('');\r\n\r\n  const reportReasons = [\r\n    'Inappropriate content',\r\n    'Harassment or bullying',\r\n    'Spam or fake profile',\r\n    'Underage user',\r\n    'Violence or threats',\r\n    'Other'\r\n  ];\r\n\r\n  const handleBlock = () => {\r\n    blockUser(userId);\r\n    if (onBlock) {\r\n      onBlock(userId);\r\n    }\r\n    setShowBlockModal(false);\r\n  };\r\n\r\n  const handleReport = () => {\r\n    if (!reportReason) {\r\n      alert('Please select a reason for reporting');\r\n      return;\r\n    }\r\n\r\n    reportUser(userId, {\r\n      reason: reportReason,\r\n      details: reportDetails,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n    if (onReport) {\r\n      onReport(userId, reportReason);\r\n    }\r\n    setShowReportModal(false);\r\n    setReportReason('');\r\n    setReportDetails('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex gap-2\">\r\n        <button\r\n          onClick={() => setShowBlockModal(true)}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all text-sm font-medium\"\r\n        >\r\n          <UserMinusIcon className=\"w-4 h-4\" />\r\n          Block\r\n        </button>\r\n        <button\r\n          onClick={() => setShowReportModal(true)}\r\n          className=\"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-all text-sm font-medium\"\r\n        >\r\n          <FlagIcon className=\"w-4 h-4\" />\r\n          Report\r\n        </button>\r\n      </div>\r\n\r\n      {/* Block Modal */}\r\n      <Modal \r\n        isOpen={showBlockModal} \r\n        onClose={() => setShowBlockModal(false)}\r\n        title=\"Block User\"\r\n      >\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n            <ShieldExclamationIcon className=\"w-6 h-6 text-yellow-600\" />\r\n            <p className=\"text-sm text-yellow-800\">\r\n              Blocking <strong>{userName}</strong> will prevent them from seeing your profile, messaging you, or matching with you.\r\n            </p>\r\n          </div>\r\n          <p className=\"text-gray-600 text-sm\">\r\n            You can unblock them later from your settings if you change your mind.\r\n          </p>\r\n          <div className=\"flex gap-2\">\r\n            <Button \r\n              onClick={handleBlock}\r\n              className=\"flex-1 bg-red-500 hover:bg-red-600\"\r\n            >\r\n              Block User\r\n            </Button>\r\n            <Button \r\n              onClick={() => setShowBlockModal(false)}\r\n              variant=\"outline\"\r\n              className=\"flex-1\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n\r\n      {/* Report Modal */}\r\n      <Modal \r\n        isOpen={showReportModal} \r\n        onClose={() => setShowReportModal(false)}\r\n        title=\"Report User\"\r\n      >\r\n        <div className=\"space-y-4\">\r\n          <p className=\"text-gray-600 text-sm\">\r\n            Help us keep VibeMatch safe by reporting inappropriate behavior.\r\n          </p>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Reason for reporting\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {reportReasons.map((reason) => (\r\n                <label key={reason} className=\"flex items-center gap-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"reportReason\"\r\n                    value={reason}\r\n                    checked={reportReason === reason}\r\n                    onChange={(e) => setReportReason(e.target.value)}\r\n                    className=\"text-primary-500\"\r\n                  />\r\n                  <span className=\"text-sm text-gray-700\">{reason}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Additional details (optional)\r\n            </label>\r\n            <textarea\r\n              value={reportDetails}\r\n              onChange={(e) => setReportDetails(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none\"\r\n              rows=\"4\"\r\n              placeholder=\"Please provide any additional information that might help us...\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <Button \r\n              onClick={handleReport}\r\n              disabled={!reportReason}\r\n              className=\"flex-1 bg-red-500 hover:bg-red-600\"\r\n            >\r\n              Submit Report\r\n            </Button>\r\n            <Button \r\n              onClick={() => setShowReportModal(false)}\r\n              variant=\"outline\"\r\n              className=\"flex-1\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]}