{"version":3,"names":["VideoChat","isOpen","onClose","otherUser","currentUser","cov_1ce4x83ssf","f","isConnected","setIsConnected","s","_react","useState","isVideoEnabled","setIsVideoEnabled","isAudioEnabled","setIsAudioEnabled","connectionStatus","setConnectionStatus","localVideoRef","useRef","remoteVideoRef","localStreamRef","peerConnectionRef","useEffect","b","initializeCall","endCall","stream","navigator","mediaDevices","getUserMedia","video","audio","current","srcObject","configuration","iceServers","urls","peerConnection","RTCPeerConnection","getTracks","forEach","track","addTrack","ontrack","event","streams","onicecandidate","candidate","console","log","onconnectionstatechange","connectionState","offer","createOffer","setLocalDescription","setTimeout","error","alert","stop","close","toggleVideo","videoTrack","getVideoTracks","enabled","toggleAudio","audioTrack","getAudioTracks","_jsxruntime","jsx","_Modal","default","title","name","size","jsxs","className","style","height","ref","autoPlay","playsInline","muted","onClick","_outline","PhoneIcon","VideoCameraIcon","XMarkIcon"],"sources":["D:\\Tech Vitta\\Apps\\DEMO\\components\\ui\\VideoChat.js"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { VideoCameraIcon, PhoneIcon, XMarkIcon } from '@heroicons/react/24/outline';\r\nimport Modal from './Modal';\r\n\r\n/**\r\n * VideoChat Component\r\n * WebRTC-based video chat implementation\r\n */\r\nexport default function VideoChat({ \r\n  isOpen, \r\n  onClose, \r\n  otherUser,\r\n  currentUser \r\n}) {\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [isVideoEnabled, setIsVideoEnabled] = useState(true);\r\n  const [isAudioEnabled, setIsAudioEnabled] = useState(true);\r\n  const [connectionStatus, setConnectionStatus] = useState('connecting');\r\n  \r\n  const localVideoRef = useRef(null);\r\n  const remoteVideoRef = useRef(null);\r\n  const localStreamRef = useRef(null);\r\n  const peerConnectionRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      initializeCall();\r\n    } else {\r\n      endCall();\r\n    }\r\n\r\n    return () => {\r\n      endCall();\r\n    };\r\n  }, [isOpen]);\r\n\r\n  const initializeCall = async () => {\r\n    try {\r\n      // Get user media\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: true,\r\n        audio: true\r\n      });\r\n\r\n      localStreamRef.current = stream;\r\n      if (localVideoRef.current) {\r\n        localVideoRef.current.srcObject = stream;\r\n      }\r\n\r\n      // Create peer connection\r\n      // Note: In production, you'd use a signaling server (WebSocket)\r\n      // For now, this is a simplified implementation\r\n      const configuration = {\r\n        iceServers: [\r\n          { urls: 'stun:stun.l.google.com:19302' }\r\n        ]\r\n      };\r\n\r\n      const peerConnection = new RTCPeerConnection(configuration);\r\n\r\n      // Add local stream tracks\r\n      stream.getTracks().forEach(track => {\r\n        peerConnection.addTrack(track, stream);\r\n      });\r\n\r\n      // Handle remote stream\r\n      peerConnection.ontrack = (event) => {\r\n        if (remoteVideoRef.current) {\r\n          remoteVideoRef.current.srcObject = event.streams[0];\r\n        }\r\n        setIsConnected(true);\r\n        setConnectionStatus('connected');\r\n      };\r\n\r\n      // Handle ICE candidates\r\n      peerConnection.onicecandidate = (event) => {\r\n        if (event.candidate) {\r\n          // In production, send to signaling server\r\n          console.log('ICE candidate:', event.candidate);\r\n        }\r\n      };\r\n\r\n      // Handle connection state changes\r\n      peerConnection.onconnectionstatechange = () => {\r\n        setConnectionStatus(peerConnection.connectionState);\r\n        if (peerConnection.connectionState === 'connected') {\r\n          setIsConnected(true);\r\n        } else if (peerConnection.connectionState === 'disconnected' || \r\n                   peerConnection.connectionState === 'failed') {\r\n          setIsConnected(false);\r\n        }\r\n      };\r\n\r\n      peerConnectionRef.current = peerConnection;\r\n\r\n      // Create offer (in production, exchange via signaling server)\r\n      const offer = await peerConnection.createOffer();\r\n      await peerConnection.setLocalDescription(offer);\r\n      \r\n      // Simulate receiving answer (in production, from signaling server)\r\n      setTimeout(() => {\r\n        setConnectionStatus('connected');\r\n        setIsConnected(true);\r\n      }, 1000);\r\n\r\n    } catch (error) {\r\n      console.error('Error initializing call:', error);\r\n      alert('Could not access camera/microphone. Please allow permissions.');\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const endCall = () => {\r\n    // Stop local stream\r\n    if (localStreamRef.current) {\r\n      localStreamRef.current.getTracks().forEach(track => track.stop());\r\n    }\r\n\r\n    // Close peer connection\r\n    if (peerConnectionRef.current) {\r\n      peerConnectionRef.current.close();\r\n    }\r\n\r\n    // Clear video refs\r\n    if (localVideoRef.current) {\r\n      localVideoRef.current.srcObject = null;\r\n    }\r\n    if (remoteVideoRef.current) {\r\n      remoteVideoRef.current.srcObject = null;\r\n    }\r\n\r\n    setIsConnected(false);\r\n    setConnectionStatus('disconnected');\r\n  };\r\n\r\n  const toggleVideo = () => {\r\n    if (localStreamRef.current) {\r\n      const videoTrack = localStreamRef.current.getVideoTracks()[0];\r\n      if (videoTrack) {\r\n        videoTrack.enabled = !isVideoEnabled;\r\n        setIsVideoEnabled(!isVideoEnabled);\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleAudio = () => {\r\n    if (localStreamRef.current) {\r\n      const audioTrack = localStreamRef.current.getAudioTracks()[0];\r\n      if (audioTrack) {\r\n        audioTrack.enabled = !isAudioEnabled;\r\n        setIsAudioEnabled(!isAudioEnabled);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={endCall} title={`Video Call with ${otherUser?.name || 'User'}`} size=\"large\">\r\n      <div className=\"relative bg-black rounded-lg overflow-hidden\" style={{ height: '600px' }}>\r\n        {/* Remote Video */}\r\n        <video\r\n          ref={remoteVideoRef}\r\n          autoPlay\r\n          playsInline\r\n          className=\"w-full h-full object-cover\"\r\n        />\r\n\r\n        {/* Local Video (Picture-in-Picture) */}\r\n        <div className=\"absolute bottom-4 right-4 w-48 h-64 bg-gray-900 rounded-lg overflow-hidden border-2 border-white\">\r\n          <video\r\n            ref={localVideoRef}\r\n            autoPlay\r\n            playsInline\r\n            muted\r\n            className=\"w-full h-full object-cover\"\r\n          />\r\n        </div>\r\n\r\n        {/* Connection Status */}\r\n        {!isConnected && (\r\n          <div className=\"absolute inset-0 flex items-center justify-center bg-black/50\">\r\n            <div className=\"text-center text-white\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4\"></div>\r\n              <p className=\"text-lg font-medium\">\r\n                {connectionStatus === 'connecting' ? 'Connecting...' : 'Waiting for connection...'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Controls */}\r\n        <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6\">\r\n          <div className=\"flex items-center justify-center gap-4\">\r\n            <button\r\n              onClick={toggleAudio}\r\n              className={`w-12 h-12 rounded-full flex items-center justify-center transition-all ${\r\n                isAudioEnabled \r\n                  ? 'bg-white text-gray-900' \r\n                  : 'bg-red-500 text-white'\r\n              }`}\r\n            >\r\n              <PhoneIcon className=\"w-6 h-6\" />\r\n            </button>\r\n            \r\n            <button\r\n              onClick={toggleVideo}\r\n              className={`w-12 h-12 rounded-full flex items-center justify-center transition-all ${\r\n                isVideoEnabled \r\n                  ? 'bg-white text-gray-900' \r\n                  : 'bg-gray-600 text-white'\r\n              }`}\r\n            >\r\n              <VideoCameraIcon className=\"w-6 h-6\" />\r\n            </button>\r\n            \r\n            <button\r\n              onClick={endCall}\r\n              className=\"w-12 h-12 rounded-full bg-red-500 text-white flex items-center justify-center hover:bg-red-600 transition-all\"\r\n            >\r\n              <XMarkIcon className=\"w-6 h-6\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}