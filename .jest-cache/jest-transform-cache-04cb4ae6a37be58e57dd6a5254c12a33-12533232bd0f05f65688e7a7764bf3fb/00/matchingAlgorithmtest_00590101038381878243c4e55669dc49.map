{"version":3,"sources":["D:\\Tech Vitta\\Apps\\DEMO\\__tests__\\lib\\matchingAlgorithm.test.js"],"sourcesContent":["import { calculateMatchScore, getSharedInterests } from '@/lib/matchingAlgorithm'\r\n\r\ndescribe('Matching Algorithm', () => {\r\n  const createUser = (overrides = {}) => ({\r\n    id: '1',\r\n    name: 'Test User',\r\n    age: 25,\r\n    gender: 'Male',\r\n    ageGroup: 'young',\r\n    valueAnswers: [1, 2, 3, 4, 5, 1, 2, 3, 4, 5],\r\n    contentAnswers: [1, 2, 3, 4, 5],\r\n    ...overrides\r\n  })\r\n\r\n  describe('calculateMatchScore', () => {\r\n    it('returns 0% match for users with no common data', () => {\r\n      const user1 = createUser({ valueAnswers: null })\r\n      const user2 = createUser({ valueAnswers: null })\r\n      \r\n      const result = calculateMatchScore(user1, user2)\r\n      expect(result.percentage).toBe(0)\r\n    })\r\n\r\n    it('calculates high match for identical users', () => {\r\n      const user1 = createUser()\r\n      const user2 = createUser()\r\n      \r\n      const result = calculateMatchScore(user1, user2)\r\n      expect(result.percentage).toBeGreaterThan(80)\r\n    })\r\n\r\n    it('calculates match score with value answers', () => {\r\n      const user1 = createUser({ valueAnswers: [1, 1, 1, 1, 1] })\r\n      const user2 = createUser({ valueAnswers: [1, 1, 1, 1, 1] })\r\n      \r\n      const result = calculateMatchScore(user1, user2)\r\n      expect(result.percentage).toBeGreaterThan(0)\r\n      expect(result.valuesScore).toBeGreaterThan(0)\r\n    })\r\n\r\n    it('calculates match score with content answers', () => {\r\n      const user1 = createUser({ \r\n        contentAnswers: [1, 2, 3],\r\n        ageGroup: 'young'\r\n      })\r\n      const user2 = createUser({ \r\n        contentAnswers: [1, 2, 3],\r\n        ageGroup: 'young'\r\n      })\r\n      \r\n      const result = calculateMatchScore(user1, user2)\r\n      expect(result.contentScore).toBeGreaterThan(0)\r\n    })\r\n\r\n    it('handles different age groups', () => {\r\n      const user1 = createUser({ ageGroup: 'young' })\r\n      const user2 = createUser({ ageGroup: 'mature' })\r\n      \r\n      const result = calculateMatchScore(user1, user2)\r\n      expect(result.contentScore).toBe(10) // Base score for different age groups\r\n    })\r\n\r\n    it('includes lifestyle compatibility', () => {\r\n      const user1 = createUser({ lifestyle: ['Fitness', 'Travel'] })\r\n      const user2 = createUser({ lifestyle: ['Fitness', 'Travel'] })\r\n      \r\n      const result = calculateMatchScore(user1, user2)\r\n      expect(result.lifestyleScore).toBeGreaterThan(0)\r\n    })\r\n\r\n    it('includes education compatibility', () => {\r\n      const user1 = createUser({ education: 'Bachelor' })\r\n      const user2 = createUser({ education: 'Bachelor' })\r\n      \r\n      const result = calculateMatchScore(user1, user2)\r\n      expect(result.educationScore).toBeGreaterThan(0)\r\n    })\r\n\r\n    it('returns all score components', () => {\r\n      const user1 = createUser()\r\n      const user2 = createUser()\r\n      \r\n      const result = calculateMatchScore(user1, user2)\r\n      expect(result).toHaveProperty('percentage')\r\n      expect(result).toHaveProperty('valuesScore')\r\n      expect(result).toHaveProperty('contentScore')\r\n      expect(result).toHaveProperty('lifestyleScore')\r\n      expect(result).toHaveProperty('breakdown')\r\n    })\r\n\r\n    it('handles missing optional fields gracefully', () => {\r\n      const user1 = createUser({ lifestyle: null, education: null })\r\n      const user2 = createUser({ lifestyle: null, education: null })\r\n      \r\n      const result = calculateMatchScore(user1, user2)\r\n      expect(result.percentage).toBeGreaterThanOrEqual(0)\r\n      expect(result.percentage).toBeLessThanOrEqual(100)\r\n    })\r\n  })\r\n\r\n  describe('getSharedInterests', () => {\r\n    it('returns empty array for users with no shared interests', () => {\r\n      const user1 = createUser({ valueAnswers: [1, 1, 1] })\r\n      const user2 = createUser({ valueAnswers: [5, 5, 5] })\r\n      \r\n      const result = getSharedInterests(user1, user2)\r\n      expect(result).toEqual([])\r\n    })\r\n\r\n    it('finds shared interests', () => {\r\n      const user1 = createUser({ valueAnswers: [1, 2, 3] })\r\n      const user2 = createUser({ valueAnswers: [1, 2, 4] })\r\n      \r\n      const result = getSharedInterests(user1, user2)\r\n      expect(result.length).toBeGreaterThan(0)\r\n    })\r\n\r\n    it('handles missing value answers', () => {\r\n      const user1 = createUser({ valueAnswers: null })\r\n      const user2 = createUser({ valueAnswers: [1, 2, 3] })\r\n      \r\n      const result = getSharedInterests(user1, user2)\r\n      expect(result).toEqual([])\r\n    })\r\n  })\r\n})\r\n\r\n"],"names":["describe","createUser","overrides","id","name","age","gender","ageGroup","valueAnswers","contentAnswers","it","user1","user2","result","calculateMatchScore","expect","percentage","toBe","toBeGreaterThan","valuesScore","contentScore","lifestyle","lifestyleScore","education","educationScore","toHaveProperty","toBeGreaterThanOrEqual","toBeLessThanOrEqual","getSharedInterests","toEqual","length"],"mappings":"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"}