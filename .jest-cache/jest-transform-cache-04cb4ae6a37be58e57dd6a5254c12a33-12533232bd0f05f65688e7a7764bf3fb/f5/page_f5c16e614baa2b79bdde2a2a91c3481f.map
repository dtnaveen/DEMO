{"version":3,"sources":["D:\\Tech Vitta\\Apps\\DEMO\\app\\forums\\page.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { getCurrentUser } from '@/lib/localStorage';\nimport Card from '@/components/ui/Card';\nimport Button from '@/components/ui/Button';\nimport Input from '@/components/ui/Input';\nimport { \n  ChatBubbleLeftRightIcon,\n  FireIcon,\n  ClockIcon,\n  UserIcon,\n  MagnifyingGlassIcon,\n  XMarkIcon,\n  ArrowLeftIcon,\n  PlusIcon\n} from '@heroicons/react/24/outline';\nimport { showToast } from '@/utils/helpers';\n\n/**\n * Forum Categories\n */\nconst FORUM_CATEGORIES = [\n  'All',\n  'Success Stories',\n  'Dating Tips',\n  'Profile Help',\n  'General Discussion',\n  'Questions',\n  'Announcements',\n  'Feedback'\n];\n\n/**\n * Community Forums Page\n * Discussion forums for community engagement\n */\nexport default function ForumsPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [forums, setForums] = useState([]);\n  const [selectedForum, setSelectedForum] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortBy, setSortBy] = useState('recent'); // recent, popular, trending\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(10);\n  const [forumsPerPage] = useState(9);\n  const [currentForumPage, setCurrentForumPage] = useState(1);\n\n  useEffect(() => {\n    const user = getCurrentUser();\n    if (!user) {\n      router.push('/login');\n      return;\n    }\n    setCurrentUser(user);\n\n    // Mock forums data with more variety\n    const mockForums = [\n      {\n        id: '1',\n        name: 'Success Stories',\n        description: 'Share your VibeMatch success stories and celebrate connections',\n        posts: 124,\n        members: 450,\n        icon: 'üíï',\n        category: 'Success Stories',\n        recentPost: '2 hours ago'\n      },\n      {\n        id: '2',\n        name: 'Dating Tips',\n        description: 'Tips and advice for better dating experiences',\n        posts: 89,\n        members: 320,\n        icon: 'üí°',\n        category: 'Dating Tips',\n        recentPost: '5 hours ago'\n      },\n      {\n        id: '3',\n        name: 'Profile Help',\n        description: 'Get help optimizing your profile to attract better matches',\n        posts: 67,\n        members: 280,\n        icon: 'üìù',\n        category: 'Profile Help',\n        recentPost: '1 day ago'\n      },\n      {\n        id: '4',\n        name: 'General Discussion',\n        description: 'General chat and discussions about dating and relationships',\n        posts: 234,\n        members: 890,\n        icon: 'üí¨',\n        category: 'General Discussion',\n        recentPost: '30 minutes ago'\n      },\n      {\n        id: '5',\n        name: 'Questions & Answers',\n        description: 'Ask questions and get answers from the community',\n        posts: 156,\n        members: 520,\n        icon: '‚ùì',\n        category: 'Questions',\n        recentPost: '1 hour ago'\n      },\n      {\n        id: '6',\n        name: 'Announcements',\n        description: 'Official announcements and updates from VibeMatch',\n        posts: 45,\n        members: 1200,\n        icon: 'üì¢',\n        category: 'Announcements',\n        recentPost: '3 hours ago'\n      },\n      {\n        id: '7',\n        name: 'Feedback & Suggestions',\n        description: 'Share your feedback and suggestions to improve VibeMatch',\n        posts: 78,\n        members: 380,\n        icon: 'üí≠',\n        category: 'Feedback',\n        recentPost: '4 hours ago'\n      }\n    ];\n\n    setForums(mockForums);\n\n    // Check if forum ID is in URL\n    const forumId = searchParams?.get('forum');\n    if (forumId) {\n      const forum = mockForums.find(f => f.id === forumId);\n      if (forum) {\n        setSelectedForum(forum);\n      }\n    }\n\n    // Mock posts for selected forum\n    const mockPosts = [\n      {\n        id: '1',\n        title: 'How I met my match!',\n        author: 'Alex M.',\n        authorId: 'user1',\n        authorAvatar: null,\n        replies: 12,\n        views: 145,\n        likes: 23,\n        lastActivity: '2 hours ago',\n        pinned: true,\n        category: 'Success Stories',\n        content: 'I just wanted to share my amazing story...'\n      },\n      {\n        id: '2',\n        title: 'First date ideas?',\n        author: 'Jordan K.',\n        authorId: 'user2',\n        authorAvatar: null,\n        replies: 8,\n        views: 89,\n        likes: 15,\n        lastActivity: '5 hours ago',\n        pinned: false,\n        category: 'Dating Tips',\n        content: 'Looking for some creative first date suggestions...'\n      },\n      {\n        id: '3',\n        title: 'Best profile photo tips',\n        author: 'Sam T.',\n        authorId: 'user3',\n        authorAvatar: null,\n        replies: 25,\n        views: 234,\n        likes: 42,\n        lastActivity: '1 hour ago',\n        pinned: false,\n        category: 'Profile Help',\n        content: 'Here are some tips that worked for me...'\n      },\n      {\n        id: '4',\n        title: 'What makes a great conversation starter?',\n        author: 'Taylor R.',\n        authorId: 'user4',\n        authorAvatar: null,\n        replies: 18,\n        views: 167,\n        likes: 31,\n        lastActivity: '3 hours ago',\n        pinned: false,\n        category: 'General Discussion',\n        content: 'I always struggle with the first message...'\n      },\n      {\n        id: '5',\n        title: 'New feature: Video profiles!',\n        author: 'VibeMatch Team',\n        authorId: 'admin',\n        authorAvatar: null,\n        replies: 45,\n        views: 567,\n        likes: 89,\n        lastActivity: '6 hours ago',\n        pinned: true,\n        category: 'Announcements',\n        content: 'We\\'re excited to announce video profiles...'\n      }\n    ];\n\n    setPosts(mockPosts);\n    setLoading(false);\n  }, [router, searchParams]);\n\n  const handleSelectForum = (forum) => {\n    setSelectedForum(forum);\n    router.push(`/forums?forum=${forum.id}`);\n    // In production, fetch posts for this forum\n  };\n\n  const handleViewPost = (postId) => {\n    router.push(`/forums/post/${postId}`);\n  };\n\n  const handleCreatePost = () => {\n    if (!selectedForum) {\n      showToast('Please select a forum first', 'info');\n      return;\n    }\n    router.push(`/forums/create-post?forum=${selectedForum.id}`);\n  };\n\n  const handleBackToForums = () => {\n    setSelectedForum(null);\n    router.push('/forums');\n  };\n\n  // Filter and sort posts\n  const filteredAndSortedPosts = posts\n    .filter(post => {\n      const matchesCategory = selectedCategory === 'All' || post.category === selectedCategory;\n      const matchesSearch = searchQuery === '' || \n        post.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        post.content.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        post.author.toLowerCase().includes(searchQuery.toLowerCase());\n      return matchesCategory && matchesSearch;\n    })\n    .sort((a, b) => {\n      if (a.pinned && !b.pinned) return -1;\n      if (!a.pinned && b.pinned) return 1;\n      \n      switch (sortBy) {\n        case 'popular':\n          return (b.replies + b.likes) - (a.replies + a.likes);\n        case 'trending':\n          return b.views - a.views;\n        case 'recent':\n        default:\n          // Sort by lastActivity (simplified - in production use actual dates)\n          return 0;\n      }\n    });\n\n  // Filter forums by category and search\n  const filteredForums = forums.filter(forum => {\n    const matchesCategory = selectedCategory === 'All' || forum.category === selectedCategory;\n    const matchesSearch = searchQuery === '' || \n      forum.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      forum.description.toLowerCase().includes(searchQuery.toLowerCase());\n    return matchesCategory && matchesSearch;\n  });\n\n  // Pagination for forums\n  const totalForumPages = Math.ceil(filteredForums.length / forumsPerPage);\n  const indexOfLastForum = currentForumPage * forumsPerPage;\n  const indexOfFirstForum = indexOfLastForum - forumsPerPage;\n  const currentForums = filteredForums.slice(indexOfFirstForum, indexOfLastForum);\n\n  // Pagination for posts\n  const totalPostPages = Math.ceil(filteredAndSortedPosts.length / postsPerPage);\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = filteredAndSortedPosts.slice(indexOfFirstPost, indexOfLastPost);\n\n  // Reset pagination when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n    setCurrentForumPage(1);\n  }, [selectedCategory, searchQuery, sortBy]);\n\n  if (!currentUser) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-dark-50 via-white to-primary-50/20 py-8 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {!selectedForum ? (\n          <>\n            {/* Header */}\n            <div className=\"mb-8\">\n              <h1 className=\"text-3xl sm:text-4xl lg:text-5xl font-black text-dark-900 mb-2 font-display\">\n                <span className=\"text-gradient\">Community Forums</span>\n              </h1>\n              <p className=\"text-dark-600 text-base sm:text-lg font-medium\">\n                Join discussions, share experiences, and connect with the community\n              </p>\n            </div>\n\n            {/* Search and Filter */}\n            <div className=\"mb-8 space-y-4\">\n              {/* Search Bar */}\n              <div className=\"relative\">\n                <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <Input\n                  type=\"text\"\n                  placeholder=\"Search forums...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-10 pr-10\"\n                />\n                {searchQuery && (\n                  <button\n                    onClick={() => setSearchQuery('')}\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                  >\n                    <XMarkIcon className=\"w-5 h-5\" />\n                  </button>\n                )}\n              </div>\n\n              {/* Category Filter */}\n              <div className=\"flex flex-wrap gap-2\">\n                {FORUM_CATEGORIES.map((category) => (\n                  <button\n                    key={category}\n                    onClick={() => setSelectedCategory(category)}\n                    className={`px-4 py-2 rounded-full text-sm font-medium transition-all ${\n                      selectedCategory === category\n                        ? 'bg-primary-600 text-white shadow-md'\n                        : 'bg-white text-gray-700 hover:bg-gray-100'\n                    }`}\n                  >\n                    {category}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Forums List */}\n            {filteredForums.length === 0 ? (\n              <Card className=\"p-8 text-center\">\n                <p className=\"text-gray-600\">No forums found. Try adjusting your category filter or search query.</p>\n              </Card>\n            ) : (\n              <>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\n                  {currentForums.map(forum => (\n                  <Card\n                    key={forum.id}\n                    className=\"cursor-pointer hover:shadow-lg transition-all p-4 sm:p-6\"\n                    onClick={() => handleSelectForum(forum)}\n                  >\n                    <div className=\"text-4xl sm:text-5xl mb-4\">{forum.icon}</div>\n                    <h3 className=\"text-xl sm:text-2xl font-black text-dark-900 mb-2 font-display\">\n                      {forum.name}\n                    </h3>\n                    <p className=\"text-dark-600 mb-4 text-sm sm:text-base\">{forum.description}</p>\n                    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4 text-sm text-dark-500\">\n                      <span className=\"flex items-center gap-1\">\n                        <ChatBubbleLeftRightIcon className=\"w-4 h-4\" />\n                        {forum.posts} posts\n                      </span>\n                      <span className=\"flex items-center gap-1\">\n                        <UserIcon className=\"w-4 h-4\" />\n                        {forum.members} members\n                      </span>\n                      <span className=\"text-xs text-gray-400\">{forum.recentPost}</span>\n                    </div>\n                  </Card>\n                  ))}\n                </div>\n\n                {/* Pagination for Forums */}\n                {totalForumPages > 1 && (\n                  <div className=\"mt-8 flex flex-wrap items-center justify-center gap-2\">\n                    <Button\n                      onClick={() => setCurrentForumPage(prev => Math.max(1, prev - 1))}\n                      disabled={currentForumPage === 1}\n                      variant=\"outline\"\n                      size=\"sm\"\n                    >\n                      Previous\n                    </Button>\n                    {Array.from({ length: totalForumPages }, (_, i) => i + 1).map((page) => (\n                      <Button\n                        key={page}\n                        onClick={() => setCurrentForumPage(page)}\n                        variant={currentForumPage === page ? 'primary' : 'outline'}\n                        size=\"sm\"\n                        className=\"min-w-[40px]\"\n                      >\n                        {page}\n                      </Button>\n                    ))}\n                    <Button\n                      onClick={() => setCurrentForumPage(prev => Math.min(totalForumPages, prev + 1))}\n                      disabled={currentForumPage === totalForumPages}\n                      variant=\"outline\"\n                      size=\"sm\"\n                    >\n                      Next\n                    </Button>\n                  </div>\n                )}\n              </>\n            )}\n          </>\n        ) : (\n          /* Forum Posts View */\n          <div>\n            {/* Back Button */}\n            <Button\n              onClick={handleBackToForums}\n              variant=\"outline\"\n              className=\"mb-6\"\n            >\n              <ArrowLeftIcon className=\"w-4 h-4 mr-2\" />\n              Back to Forums\n            </Button>\n\n            {/* Forum Header */}\n            <Card className=\"mb-6 p-4 sm:p-6\">\n              <div className=\"flex flex-col sm:flex-row sm:items-center gap-4 mb-4\">\n                <span className=\"text-3xl sm:text-4xl\">{selectedForum.icon}</span>\n                <div className=\"flex-1\">\n                  <h2 className=\"text-2xl sm:text-3xl font-black text-dark-900 font-display mb-1\">\n                    {selectedForum.name}\n                  </h2>\n                  <p className=\"text-dark-600 text-sm sm:text-base\">{selectedForum.description}</p>\n                </div>\n              </div>\n              <Button onClick={handleCreatePost} className=\"w-full sm:w-auto\">\n                <PlusIcon className=\"w-4 h-4 mr-2\" />\n                Create New Post\n              </Button>\n            </Card>\n\n            {/* Search and Sort */}\n            <div className=\"mb-6 space-y-4\">\n              <div className=\"relative\">\n                <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <Input\n                  type=\"text\"\n                  placeholder=\"Search posts...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-10 pr-10\"\n                />\n                {searchQuery && (\n                  <button\n                    onClick={() => setSearchQuery('')}\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                  >\n                    <XMarkIcon className=\"w-5 h-5\" />\n                  </button>\n                )}\n              </div>\n\n              <div className=\"flex flex-wrap items-center gap-4\">\n                <span className=\"text-sm text-gray-600\">Sort by:</span>\n                <div className=\"flex gap-2\">\n                  {['recent', 'popular', 'trending'].map((sort) => (\n                    <button\n                      key={sort}\n                      onClick={() => setSortBy(sort)}\n                      className={`px-3 py-1 rounded-full text-sm font-medium transition-all ${\n                        sortBy === sort\n                          ? 'bg-primary-600 text-white'\n                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                      }`}\n                    >\n                      {sort.charAt(0).toUpperCase() + sort.slice(1)}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Posts List */}\n            {filteredAndSortedPosts.length === 0 ? (\n              <Card className=\"p-8 text-center\">\n                <p className=\"text-gray-600\">No posts found. Try adjusting your search or filters.</p>\n                <Button onClick={handleCreatePost} className=\"mt-4\">\n                  Create First Post\n                </Button>\n              </Card>\n            ) : (\n              <>\n                <div className=\"space-y-4\">\n                  {currentPosts.map(post => (\n                  <Card \n                    key={post.id} \n                    className=\"p-4 sm:p-6 hover:shadow-md transition-shadow cursor-pointer\"\n                    onClick={() => handleViewPost(post.id)}\n                  >\n                    <div className=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-3 mb-2\">\n                          {post.pinned && (\n                            <FireIcon className=\"w-5 h-5 text-accent-600 flex-shrink-0\" />\n                          )}\n                          <h3 className=\"text-lg sm:text-xl font-bold text-dark-900\">\n                            {post.title}\n                          </h3>\n                        </div>\n                        <p className=\"text-gray-600 text-sm mb-3 line-clamp-2\">{post.content}</p>\n                        <div className=\"flex flex-wrap items-center gap-3 sm:gap-4 text-sm text-dark-500\">\n                          <span className=\"flex items-center gap-1\">\n                            <UserIcon className=\"w-4 h-4\" />\n                            {post.author}\n                          </span>\n                          <span className=\"flex items-center gap-1\">\n                            <ChatBubbleLeftRightIcon className=\"w-4 h-4\" />\n                            {post.replies} replies\n                          </span>\n                          <span>{post.views} views</span>\n                          <span className=\"flex items-center gap-1\">\n                            <ClockIcon className=\"w-4 h-4\" />\n                            {post.lastActivity}\n                          </span>\n                          {post.likes > 0 && (\n                            <span className=\"text-primary-600\">‚ù§Ô∏è {post.likes}</span>\n                          )}\n                        </div>\n                      </div>\n                      <Button \n                        variant=\"outline\" \n                        size=\"sm\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleViewPost(post.id);\n                        }}\n                        className=\"w-full sm:w-auto\"\n                      >\n                        View\n                      </Button>\n                    </div>\n                  </Card>\n                  ))}\n                </div>\n\n                {/* Pagination for Posts */}\n                {totalPostPages > 1 && (\n                  <div className=\"mt-8 flex flex-wrap items-center justify-center gap-2\">\n                    <Button\n                      onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\n                      disabled={currentPage === 1}\n                      variant=\"outline\"\n                      size=\"sm\"\n                    >\n                      Previous\n                    </Button>\n                    {Array.from({ length: totalPostPages }, (_, i) => i + 1).map((page) => (\n                      <Button\n                        key={page}\n                        onClick={() => setCurrentPage(page)}\n                        variant={currentPage === page ? 'primary' : 'outline'}\n                        size=\"sm\"\n                        className=\"min-w-[40px]\"\n                      >\n                        {page}\n                      </Button>\n                    ))}\n                    <Button\n                      onClick={() => setCurrentPage(prev => Math.min(totalPostPages, prev + 1))}\n                      disabled={currentPage === totalPostPages}\n                      variant=\"outline\"\n                      size=\"sm\"\n                    >\n                      Next\n                    </Button>\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["ForumsPage","FORUM_CATEGORIES","router","useRouter","searchParams","useSearchParams","currentUser","setCurrentUser","useState","forums","setForums","selectedForum","setSelectedForum","posts","setPosts","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","sortBy","setSortBy","loading","setLoading","currentPage","setCurrentPage","postsPerPage","forumsPerPage","currentForumPage","setCurrentForumPage","useEffect","user","getCurrentUser","push","mockForums","id","name","description","members","icon","category","recentPost","forumId","get","forum","find","f","mockPosts","title","author","authorId","authorAvatar","replies","views","likes","lastActivity","pinned","content","handleSelectForum","handleViewPost","postId","handleCreatePost","showToast","handleBackToForums","filteredAndSortedPosts","filter","post","matchesCategory","matchesSearch","toLowerCase","includes","sort","a","b","filteredForums","totalForumPages","Math","ceil","length","indexOfLastForum","indexOfFirstForum","currentForums","slice","totalPostPages","indexOfLastPost","indexOfFirstPost","currentPosts","div","className","p","h1","span","MagnifyingGlassIcon","Input","type","placeholder","value","onChange","e","target","button","onClick","XMarkIcon","map","Card","h3","ChatBubbleLeftRightIcon","UserIcon","Button","prev","max","disabled","variant","size","Array","from","_","i","page","min","ArrowLeftIcon","h2","PlusIcon","charAt","toUpperCase","FireIcon","ClockIcon","stopPropagation"],"mappings":"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"}