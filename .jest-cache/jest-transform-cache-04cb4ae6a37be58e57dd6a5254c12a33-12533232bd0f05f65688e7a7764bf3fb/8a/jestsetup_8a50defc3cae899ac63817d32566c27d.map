{"version":3,"sources":["D:\\Tech Vitta\\Apps\\DEMO\\jest.setup.js"],"sourcesContent":["// Learn more: https://github.com/testing-library/jest-dom\r\nimport '@testing-library/jest-dom'\r\n\r\n// Mock Next.js router\r\njest.mock('next/navigation', () => ({\r\n  useRouter() {\r\n    return {\r\n      push: jest.fn(),\r\n      replace: jest.fn(),\r\n      prefetch: jest.fn(),\r\n      back: jest.fn(),\r\n      pathname: '/',\r\n      query: {},\r\n      asPath: '/',\r\n    }\r\n  },\r\n  useSearchParams() {\r\n    return new URLSearchParams()\r\n  },\r\n  usePathname() {\r\n    return '/'\r\n  },\r\n}))\r\n\r\n// Mock localStorage\r\nconst localStorageMock = {\r\n  getItem: jest.fn(),\r\n  setItem: jest.fn(),\r\n  removeItem: jest.fn(),\r\n  clear: jest.fn(),\r\n}\r\nglobal.localStorage = localStorageMock\r\n\r\n// Mock window.matchMedia\r\nObject.defineProperty(window, 'matchMedia', {\r\n  writable: true,\r\n  value: jest.fn().mockImplementation(query => ({\r\n    matches: false,\r\n    media: query,\r\n    onchange: null,\r\n    addListener: jest.fn(),\r\n    removeListener: jest.fn(),\r\n    addEventListener: jest.fn(),\r\n    removeEventListener: jest.fn(),\r\n    dispatchEvent: jest.fn(),\r\n  })),\r\n})\r\n\r\n// Polyfill TextEncoder/TextDecoder for Node.js environment\r\nif (typeof TextEncoder === 'undefined') {\r\n  const { TextEncoder, TextDecoder } = require('util');\r\n  global.TextEncoder = TextEncoder;\r\n  global.TextDecoder = TextDecoder;\r\n}\r\n\r\n// Mock crypto.subtle for password security tests\r\n// Store hashes by salt to ensure consistent verification\r\nconst cryptoHashStore = new Map();\r\n\r\nif (typeof global.crypto === 'undefined' || !global.crypto.subtle) {\r\n  global.crypto = {\r\n    ...global.crypto,\r\n    getRandomValues: (arr) => {\r\n      // Return predictable values for testing (based on array length for consistency)\r\n      for (let i = 0; i < arr.length; i++) {\r\n        arr[i] = (i * 17) % 256; // Use prime number for better distribution\r\n      }\r\n      return arr;\r\n    },\r\n    subtle: {\r\n      importKey: jest.fn().mockImplementation(async () => {\r\n        return { format: 'raw', algorithm: { name: 'PBKDF2' }, extractable: false, keyUsages: ['deriveBits'] };\r\n      }),\r\n      deriveBits: jest.fn().mockImplementation(async (algorithm, keyMaterial, length) => {\r\n        // Create a consistent hash based on salt\r\n        const saltHex = Array.from(algorithm.salt).map(b => b.toString(16).padStart(2, '0')).join('');\r\n        const key = `${saltHex}-${length}`;\r\n        \r\n        if (!cryptoHashStore.has(key)) {\r\n          // Generate a predictable hash based on salt\r\n          const hash = new Uint8Array(length / 8);\r\n          for (let i = 0; i < hash.length; i++) {\r\n            hash[i] = (i * 7 + saltHex.charCodeAt(i % saltHex.length)) % 256;\r\n          }\r\n          cryptoHashStore.set(key, hash.buffer);\r\n        }\r\n        \r\n        return cryptoHashStore.get(key);\r\n      })\r\n    }\r\n  };\r\n}\r\n\r\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","back","pathname","query","asPath","useSearchParams","URLSearchParams","usePathname","localStorageMock","getItem","setItem","removeItem","clear","global","localStorage","Object","defineProperty","window","writable","value","mockImplementation","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","TextEncoder","TextDecoder","require","cryptoHashStore","Map","crypto","subtle","getRandomValues","arr","i","length","importKey","format","algorithm","name","extractable","keyUsages","deriveBits","keyMaterial","saltHex","Array","from","salt","map","b","toString","padStart","join","key","has","hash","Uint8Array","charCodeAt","set","buffer","get"],"mappings":"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"}