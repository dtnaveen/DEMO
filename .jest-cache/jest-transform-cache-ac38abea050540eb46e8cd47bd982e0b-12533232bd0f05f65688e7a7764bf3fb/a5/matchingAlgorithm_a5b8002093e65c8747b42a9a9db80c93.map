{"version":3,"sources":["C:\\Users\\Admin\\OneDrive\\Desktop\\DEMO\\lib\\matchingAlgorithm.js"],"sourcesContent":["import { VALUE_QUESTIONS, CONTENT_QUESTIONS } from './constants';\r\n\r\n/**\r\n * AI-Powered Matching Algorithm\r\n * Enhanced with machine learning-inspired scoring\r\n */\r\n\r\n/**\r\n * Calculate match score between two users using AI-powered algorithm\r\n * @param {Object} user1 - First user object\r\n * @param {Object} user2 - Second user object\r\n * @returns {Object} Match score breakdown\r\n */\r\nexport function calculateMatchScore(user1, user2) {\r\n  // Values score (40% - 80 points max) - Reduced from 50% to make room for new factors\r\n  let valuesScore = 0;\r\n  if (user1.valueAnswers && user2.valueAnswers) {\r\n    for (let i = 0; i < Math.min(user1.valueAnswers.length, user2.valueAnswers.length, 10); i++) {\r\n      const answer1 = user1.valueAnswers[i];\r\n      const answer2 = user2.valueAnswers[i];\r\n      \r\n      if (answer1 === answer2) {\r\n        valuesScore += 8; // Exact match (reduced from 10)\r\n      } else if (answer1 !== undefined && answer2 !== undefined) {\r\n        const diff = Math.abs(answer1 - answer2);\r\n        if (diff === 1) {\r\n          valuesScore += 4; // Adjacent answer (reduced from 5)\r\n        } else if (diff === 2) {\r\n          valuesScore += 1; // Slight compatibility\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Content score (25% - 50 points max)\r\n  let contentScore = 0;\r\n  if (user1.contentAnswers && user2.contentAnswers && user1.ageGroup === user2.ageGroup) {\r\n    const maxLength = Math.min(user1.contentAnswers.length, user2.contentAnswers.length, 5);\r\n    for (let i = 0; i < maxLength; i++) {\r\n      if (user1.contentAnswers[i] === user2.contentAnswers[i]) {\r\n        contentScore += 10; // Each matching preference = 10 points\r\n      }\r\n    }\r\n  } else if (user1.ageGroup !== user2.ageGroup) {\r\n    contentScore = 10; // Base score for different age groups\r\n  }\r\n\r\n  // Lifestyle compatibility (20% - 40 points max)\r\n  let lifestyleScore = 0;\r\n  \r\n  // Based on Friday night preference (social energy)\r\n  if (user1.valueAnswers && user2.valueAnswers && user1.valueAnswers[0] !== undefined && user2.valueAnswers[0] !== undefined) {\r\n    const fridayNightDiff = Math.abs(user1.valueAnswers[0] - user2.valueAnswers[0]);\r\n    if (fridayNightDiff === 0) {\r\n      lifestyleScore += 15; // Same energy level\r\n    } else if (fridayNightDiff === 1) {\r\n      lifestyleScore += 8; // Somewhat compatible\r\n    }\r\n  }\r\n\r\n  // Based on recharge preference\r\n  if (user1.valueAnswers && user2.valueAnswers && user1.valueAnswers[4] !== undefined && user2.valueAnswers[4] !== undefined) {\r\n    const rechargeDiff = Math.abs(user1.valueAnswers[4] - user2.valueAnswers[4]);\r\n    if (rechargeDiff === 0) {\r\n      lifestyleScore += 15;\r\n    } else if (rechargeDiff === 1) {\r\n      lifestyleScore += 7;\r\n    }\r\n  }\r\n\r\n  // NEW: Education compatibility (5% - 10 points max)\r\n  let educationScore = 0;\r\n  if (user1.education && user2.education) {\r\n    const educationLevels = ['High School', 'Some College', \"Bachelor's Degree\", \"Master's Degree\", 'PhD'];\r\n    const level1 = educationLevels.indexOf(user1.education);\r\n    const level2 = educationLevels.indexOf(user2.education);\r\n    if (level1 >= 0 && level2 >= 0) {\r\n      const diff = Math.abs(level1 - level2);\r\n      if (diff === 0) {\r\n        educationScore = 10; // Same level\r\n      } else if (diff === 1) {\r\n        educationScore = 5; // Similar level\r\n      }\r\n    } else if (user1.education === user2.education) {\r\n      educationScore = 10;\r\n    }\r\n  }\r\n\r\n  // NEW: Lifestyle compatibility (5% - 10 points max)\r\n  let lifestyleMatchScore = 0;\r\n  if (user1.lifestyle && user2.lifestyle) {\r\n    // Exercise compatibility\r\n    if (user1.lifestyle.exercise && user2.lifestyle.exercise) {\r\n      if (user1.lifestyle.exercise === user2.lifestyle.exercise) {\r\n        lifestyleMatchScore += 3;\r\n      }\r\n    }\r\n    // Diet compatibility\r\n    if (user1.lifestyle.diet && user2.lifestyle.diet) {\r\n      if (user1.lifestyle.diet === user2.lifestyle.diet) {\r\n        lifestyleMatchScore += 3;\r\n      }\r\n    }\r\n    // Drinking compatibility\r\n    if (user1.lifestyle.drinking && user2.lifestyle.drinking) {\r\n      const drinkingLevels = ['Never', 'Rarely', 'Socially', 'Regularly'];\r\n      const level1 = drinkingLevels.indexOf(user1.lifestyle.drinking);\r\n      const level2 = drinkingLevels.indexOf(user2.lifestyle.drinking);\r\n      if (level1 >= 0 && level2 >= 0) {\r\n        const diff = Math.abs(level1 - level2);\r\n        if (diff <= 1) {\r\n          lifestyleMatchScore += 2;\r\n        }\r\n      }\r\n    }\r\n    // Children compatibility\r\n    if (user1.lifestyle.children && user2.lifestyle.children) {\r\n      if (user1.lifestyle.children === user2.lifestyle.children) {\r\n        lifestyleMatchScore += 2;\r\n      }\r\n    }\r\n  }\r\n\r\n  // NEW: Social media compatibility (2% - 4 points max)\r\n  let socialScore = 0;\r\n  if (user1.socialMedia && user2.socialMedia) {\r\n    if (user1.socialMedia.instagram && user2.socialMedia.instagram) {\r\n      socialScore += 1;\r\n    }\r\n    if (user1.socialMedia.spotify && user2.socialMedia.spotify) {\r\n      socialScore += 1;\r\n    }\r\n    // Check for shared interests from social media\r\n    if (user1.socialMedia.interests && user2.socialMedia.interests) {\r\n      const shared = user1.socialMedia.interests.filter(i => \r\n        user2.socialMedia.interests.includes(i)\r\n      );\r\n      socialScore += Math.min(shared.length, 2);\r\n    }\r\n  }\r\n\r\n  // NEW: Photo verification bonus (1% - 2 points max)\r\n  let verificationScore = 0;\r\n  if (user1.verified && user2.verified) {\r\n    verificationScore = 2; // Both verified = trust bonus\r\n  } else if (user1.verified || user2.verified) {\r\n    verificationScore = 1; // One verified = slight bonus\r\n  }\r\n\r\n  // NEW: Activity/engagement score (2% - 4 points max)\r\n  let activityScore = 0;\r\n  if (user1.lastActive && user2.lastActive) {\r\n    const daysSinceActive1 = (Date.now() - new Date(user1.lastActive).getTime()) / (1000 * 60 * 60 * 24);\r\n    const daysSinceActive2 = (Date.now() - new Date(user2.lastActive).getTime()) / (1000 * 60 * 60 * 24);\r\n    // Both active recently = bonus\r\n    if (daysSinceActive1 < 7 && daysSinceActive2 < 7) {\r\n      activityScore = 4;\r\n    } else if (daysSinceActive1 < 30 && daysSinceActive2 < 30) {\r\n      activityScore = 2;\r\n    }\r\n  }\r\n\r\n  const totalScore = valuesScore + contentScore + lifestyleScore + educationScore + \r\n                     lifestyleMatchScore + socialScore + verificationScore + activityScore;\r\n  const maxScore = 200; // Increased from 150\r\n  const percentage = Math.min(100, Math.round((totalScore / maxScore) * 100));\r\n\r\n  return {\r\n    totalScore,\r\n    percentage,\r\n    valuesScore,\r\n    contentScore,\r\n    lifestyleScore,\r\n    educationScore,\r\n    lifestyleMatchScore,\r\n    socialScore,\r\n    verificationScore,\r\n    activityScore,\r\n    breakdown: {\r\n      values: Math.round((valuesScore / 80) * 40),\r\n      content: Math.round((contentScore / 50) * 25),\r\n      lifestyle: Math.round(((lifestyleScore + lifestyleMatchScore) / 50) * 25),\r\n      education: Math.round((educationScore / 10) * 5),\r\n      social: Math.round(((socialScore + verificationScore + activityScore) / 10) * 5)\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Get shared interests/values between two users\r\n */\r\nexport function getSharedInterests(user1, user2) {\r\n  const shared = [];\r\n  \r\n  if (user1.valueAnswers && user2.valueAnswers && VALUE_QUESTIONS) {\r\n    for (let i = 0; i < Math.min(user1.valueAnswers.length, user2.valueAnswers.length, VALUE_QUESTIONS.length); i++) {\r\n      if (user1.valueAnswers[i] === user2.valueAnswers[i]) {\r\n        const question = VALUE_QUESTIONS[i];\r\n        if (question && question.options) {\r\n          shared.push({\r\n            question: question.question,\r\n            answer: question.options[user1.valueAnswers[i]]\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  return shared.slice(0, 3); // Return top 3\r\n}\r\n\r\n/**\r\n * Get shared content preferences\r\n */\r\nexport function getSharedContent(user1, user2) {\r\n  const shared = [];\r\n  \r\n  if (user1.ageGroup === user2.ageGroup && user1.contentAnswers && user2.contentAnswers) {\r\n    const contentQuestions = CONTENT_QUESTIONS[user1.ageGroup];\r\n    if (contentQuestions) {\r\n      for (let i = 0; i < Math.min(user1.contentAnswers.length, user2.contentAnswers.length, contentQuestions.length); i++) {\r\n        if (user1.contentAnswers[i] === user2.contentAnswers[i]) {\r\n          shared.push({\r\n            question: contentQuestions[i].question,\r\n            answer: contentQuestions[i].options[user1.contentAnswers[i]]\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  return shared;\r\n}\r\n"],"names":["calculateMatchScore","getSharedContent","getSharedInterests","user1","user2","valuesScore","valueAnswers","i","Math","min","length","answer1","answer2","undefined","diff","abs","contentScore","contentAnswers","ageGroup","maxLength","lifestyleScore","fridayNightDiff","rechargeDiff","educationScore","education","educationLevels","level1","indexOf","level2","lifestyleMatchScore","lifestyle","exercise","diet","drinking","drinkingLevels","children","socialScore","socialMedia","instagram","spotify","interests","shared","filter","includes","verificationScore","verified","activityScore","lastActive","daysSinceActive1","Date","now","getTime","daysSinceActive2","totalScore","maxScore","percentage","round","breakdown","values","content","social","VALUE_QUESTIONS","question","options","push","answer","slice","contentQuestions","CONTENT_QUESTIONS"],"mappings":"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"}